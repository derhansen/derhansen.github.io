---
layout: post
title: Replace functionality of TYPO3 extension mw_keywordlist with a custom sitemap
  content element
date: '2020-12-29T11:26:00.000+01:00'
author: Torben Hansen
tags:
- A - Z Keyword list
- content element
- mw_keywordlist
- TYPO3 Extension
- sitemap
modified_time: '2020-12-29T11:26:13.698+01:00'
blogger_id: tag:blogger.com,1999:blog-6517038209122183182.post-5375005890610852709
blogger_orig_url: http://www.derhansen.de/2020/12/replace-typo3-extension-mw-keywordlist-with-custom-sitemap.html
permalink: /2020/12/replace-typo3-extension-mw-keywordlist-with-custom-sitemap.html
---

<p>One of the big pain points when it comes to TYPO3 major updates are extensions. If the extension stack contains unmaintained / unsupported extensions, updating can really be hard, since existing functionality needs to be replaced and existing data needs to be migrated.</p><p>I recently had this problem on a website, where the TYPO3 extension <a href="https://extensions.typo3.org/extension/mw_keywordlist/">mw_keywordlist</a>&nbsp;(A-Z Keyword List) was used. The project was running on TYPO3 8.7 and was about to be updated to TYPO3 10.4, but an updated version of the extension was not available, so it was a major blocker in the project.</p><p>The extension creates a sitemap generated from keywords in the "pages.keywords" field and renders this sitemap in alphabetical order grouped by keyword. So basically it creates just another type of sitemap, which TYPO3 already has other content elements for. In the project team we decided to replace the extension with a <b>custom sitemap content element</b>, which uses a <b>custom dataProcessor</b> to group pages by the configured keywords.</p> <p>In the sitepackage of the project the following files were added:</p><p></p><ul style="text-align: left;"><li>TCA override for tt_content, so the new content element (CType) "menu_keywordlist" is registered</li><li>PageTS Config to add the new content element to the content element wizard</li><li>TypoScript to configure rendering of the new sitemap content element</li><li>A custom DataProcessor to group pages by keyword</li><li>A Fluid template to define how the markup is generated</li></ul><div>All required files are shown in this <a href="https://gitlab.com/-/snippets/2055043">GitLab code snippet</a></div><p></p><p>After the new sitemap content element has been configured and tested, all existing instances of the mw_keywordlist content element were replaced with the new custom sitemap element. This was done using the following SQL query:</p><pre><code><br />UPDATE `tt_content`<br />SET `CType` = 'menu_keywordlist'<br />WHERE `CType` = 'mw_keywordlist_pi1' OR `CType` = 'menu_mw_keywordlist_pi1';<br /></code></pre><p>After the existing content elements were replaced, the extension mw_keywordlist could be removed. The new solution was added to the website when it was still running on TYPO3 8.7, since the code is compatible with TYPO3 8.7, 9.5 and 10.4</p><p>Thanks to the <a href="https://www.uni-wuerzburg.de/">University of WÃ¼rzburg</a> for allowing me to share the code of this solution.</p>