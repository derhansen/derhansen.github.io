---
layout: post
title: TYPO3 Flow / Fluid - translating select fields
date: '2012-12-15T17:46:00.001+01:00'
author: Torben Hansen
tags:
- fluid
- TYPO3 Flow
- f:form.select
- select
- translate
modified_time: '2012-12-15T17:49:03.746+01:00'
blogger_id: tag:blogger.com,1999:blog-6517038209122183182.post-5952150517343619823
blogger_orig_url: http://www.derhansen.de/2012/12/typo3-flow-fluid-translating-select.html
permalink: /2012/12/typo3-flow-fluid-translating-select.html
---

In a TYPO3 Flow project, I had to create a select box with countries, from which the user could select one. This task is really easy with TYPO3 Flow. Just create a domain and repository for the countries, add the necessary templates and create the country-records. Now you are ready to create a relation from a existing domain (e.g. a domain with some address-fields) to the country domain. No problems here. But what, if you want to translate the country-names in different languages?<br /><br />The Fluid&nbsp;viewhelper "f:form.select" seems to have an argument called "translate" which can handle translation of select fields labels. I could'nt find a tutorial how to use this argument and finally found out, that everything was described directly in the viewhelpers class.<br /><br />Here is a short summary on how to use the <b>f:form.select viewhelper</b> together with the "<b>translate</b>" argument.<br /><br />Assume you have an domain called "country". It only has one property called "alpha2", which is a string representing the country's ISO-3166 alpha2-code. You create some records in the new domain like "DE" for Germany, "DK" for Denmark and so on. You also have an domain called "address", where you have a relation to the country domain.<br /><br />The first thing to do is to create the translation files. In this example I create one for english and one for german.<br /><pre><code><br />&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />&lt;xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2"&gt;<br />    &lt;file original="" source-language="en"  datatype="plaintext"&gt;<br />        &lt;body&gt;<br />            &lt;trans-unit id="DE"&gt;<br />                &lt;source&gt;Germany&lt;/source&gt;<br />            &lt;/trans-unit&gt;<br />            &lt;trans-unit id="DK"&gt;<br />                &lt;source&gt;Denmark&lt;/source&gt;<br />            &lt;/trans-unit&gt;<br />        &lt;/body&gt;<br />    &lt;/file&gt;<br />&lt;/xliff&gt;<br /></code></pre><br /><pre><code><br />&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />&lt;xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2"&gt;<br />    &lt;file original="" source-language="en" target-language="de"  datatype="plaintext"&gt;<br />        &lt;body&gt;<br />            &lt;trans-unit id="DE"&gt;<br />                &lt;source&gt;Germany&lt;/source&gt;<br />                &lt;target&gt;Deutschland&lt;/target&gt;<br />            &lt;/trans-unit&gt;<br />            &lt;trans-unit id="DK"&gt;<br />                &lt;source&gt;Denmark&lt;/source&gt;<br />                &lt;target&gt;DÃ¤nemark&lt;/target&gt;<br />            &lt;/trans-unit&gt;<br />        &lt;/body&gt;<br />    &lt;/file&gt;<br />&lt;/xliff&gt;<br /></code></pre><br />Next you should configure your f:form.select viewhelper, so it uses the translations.<br /><pre><code><br />&lt;f:form.select property="country" id="country" options="{countries}" optionLabelField="alpha2" translate="{using: 'label'}"/&gt;<br /></code></pre><br />The viewhelper is configured to use "alpha2" as a label field and to use the label field for translation. There are several other options for the translate argument (e.g. the "source" attribute which enables you to select a different localization file), which are described directly in the class.<br /><br />Now you just have to assign the object "countries" (containing all countries from the country-repository) through the controller to the corresponding view and you're done.