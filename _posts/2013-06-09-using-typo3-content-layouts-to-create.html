---
layout: post
title: Using TYPO3 content layouts to create Jquery image sliders or galleries
date: '2013-06-09T13:35:00.002+02:00'
author: Torben Hansen
tags:
- image gallery
- bxslider
- layouts
- JQuery Gallery
- TYPO3
- JQuery Slider
modified_time: '2013-09-17T14:44:54.559+02:00'
thumbnail: http://3.bp.blogspot.com/-vUu48ipu4W8/UbRidDahqdI/AAAAAAAAFsk/DIaysO5ETBY/s72-c/bx-slider1.png
blogger_id: tag:blogger.com,1999:blog-6517038209122183182.post-4335228277810611826
blogger_orig_url: http://www.derhansen.de/2013/06/using-typo3-content-layouts-to-create.html
permalink: /2013/06/using-typo3-content-layouts-to-create.html
---

For some time ago I've write an <a href="http://www.derhansen.de/2013/03/integrating-jquery-cycle-image-slider.html">article</a> about how to create a JQuery Cycle image slider in TYPO3 by using the media field in TYPO3. The shown technique works fine for header sliders, but what if you need to enable the website editor to <b>dynamically add an image gallery</b> or <b>slider</b> to the website? You can &nbsp;try to find a good image gallery for TYPO3 in <b>TER</b> or you could try to integrate the JQuery Image gallery od slider of your choise without using an extension.<br /><br />In this article I will show how integrate a <b>JQuery image slider</b> into TYPO3 by using the<b> layout field</b> of TYPO3 content elements <b>without the need to install an extension</b>. The technique shown can be used to <b>create custom HTML output</b> for a lot of JQuery image galleries or sliders available. In this example I will show how to create the needed HTML output for the <a href="http://bxslider.com/">bxslider</a>.<br /><br /><b>Prerequisites</b><br />You need a working TYPO3 6.1 (lower versions should work as well) installation of TYPO3 with a working template and css_styled_content installed, so TYPO3 content elements are shown on the websites output.<br /><br /><b>Integration into TYPO3</b><br />First, you need to include a version of JQuery and the image slider (both JS and CSS files) to the output of your website. Upload the JS and CSS files for the image slider to a folder in your fileadmin and add the following to your TS template<br /><pre><code><br />page.includeJSlibs {<br />  jquery = http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js<br />  jquery.external = 1<br />  bxslider = fileadmin/templates/js/jquery.bxslider.min.js<br />}<br /><br />page.includeCSS {<br />  bxslider = fileadmin/templates/res/jquery.bxslider.css<br />}<br /></code></pre><br />After adding JQuery and the slider to your frontend output, you need to add the JS for the slider to create an instance of it for each object that should be treated as an image slider. For the bxslider, you just need some lines of code. I create the file slider.js in the directory fileadmin/templates/js/ with the following content.<br /><pre><code><br />$(document).ready(function(){<br />  $('.bxslider').bxSlider();<br />});<br /></code></pre><br />Now I add the new JS file to the websites output by adding the following the the page.includeJSlibs<br /><pre><code><br />page.includeJSlibs {<br />  slider = fileadmin/templates/js/slider.js<br />}<br /></code></pre><br />Now the page output is ready for the slider. Next I'll add a new layout in the <b>root page TSConfig</b>.<br /><br /><pre><code><br />TCEFORM.tt_content.layout {<br />  addItems.51 = Bxslider<br />}<br /></code></pre><br />This adds the layout "Bxslider" to the dropdown-box "layout" for <b>content elements</b>.<br /><br />Last you need to add some TS to the websites TS template so the new layout can be used to output the needed HTML for the slider. Add the following to your TS template<br /><br /><pre><code><br /># Get default settings for images<br />temp.image &lt; tt_content.image.20<br /><br /># Define new layout<br />tt_content.image.20 = CASE<br />tt_content.image.20 {<br />  key.field = layout<br />  default &lt; temp.image<br />  1 &lt; temp.image<br />  51 &lt; temp.image<br />  51 {<br />    imageStdWrap.dataWrap = &lt;div class="bxslider-wrapper"&gt;&lt;ul class="bxslider"&gt;|&lt;/ul&gt;&lt;/div&gt;<br />    renderMethod = ul<br />    rendering {<br />      ul {<br />        oneImageStdWrap.dataWrap = &lt;li&gt;|&lt;/li&gt;<br />      }<br />    }<br />    layout.default.value = ###IMAGES###<br />  }<br />}<br /><br /># Set defaults also for TEXTPIC<br />tt_content.textpic.20 = &lt; tt_content.image.20.default<br /></code></pre><br />That's it - the image slider is not ready to use. Create an new content element of type "images only" and add some images to it like shown on the screenshot below.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-vUu48ipu4W8/UbRidDahqdI/AAAAAAAAFsk/DIaysO5ETBY/s1600/bx-slider1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="290" src="http://3.bp.blogspot.com/-vUu48ipu4W8/UbRidDahqdI/AAAAAAAAFsk/DIaysO5ETBY/s320/bx-slider1.png" width="320" /></a></div><br />Next select in the "Appearance"-Tab the newly created layout "Bxslider" as shown below.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-T2GQHe_XMIA/UbRiBqq4aDI/AAAAAAAAFsU/O9Ia09o5Wlw/s1600/bx-slider2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-T2GQHe_XMIA/UbRiBqq4aDI/AAAAAAAAFsU/O9Ia09o5Wlw/s1600/bx-slider2.png" /></a></div><br />Open the page output and you should see the slider with the images you just selected.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-PIpyrxK1WFw/UbRiBtWFKdI/AAAAAAAAFsc/9ZlTWTl6YiU/s1600/bx-slider3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-PIpyrxK1WFw/UbRiBtWFKdI/AAAAAAAAFsc/9ZlTWTl6YiU/s1600/bx-slider3.png" /></a></div><br />Easy, is'nt it?<br /><br /><b>Notes about&nbsp;tt_content.stdWrap.innerWrap.cObject&nbsp;</b><br />I've seen some&nbsp;tutorials which show, that you need to add items to&nbsp;tt_content.stdWrap.innerWrap.cObject with "key.field = layout" to enable the new layout. I was'nt successful with that, because it seems, that adding new items with "key.field = layout" to&nbsp;tt_content.stdWrap.innerWrap.cObject <i>overrides the possibility to combine</i><b> "layouts"</b> with <b>"Indentation and frames"</b>.<br /><br /><b>Conclusion</b><br />Please keep in mind, that this was just an easy example on how to create custom HTML output for a TYPO3 content element, so it can be used by a JQuery slider or image gallery. If you digg deeper into tt_content.image.20 TS config, you will see, that there are several other settings that can be made. Generally this all is just pure TS and you can modify it to suits the needs of the gallery or slider you wish to integrate.<br /><br /><br /><br /><br />